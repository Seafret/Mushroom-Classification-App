#:kivy 2.0.0

WindowManager:
	StartWindow:
	CapColorWindow:
	BruisesWindow:
	GillAttachmentWindow:
	StalkRootWindow:
	HabitatWindow:
	SummaryWindow:

<StartWindow>:
	id: startwindow
	name: "startwindow"
	
	canvas.before:
		Rectangle:
			pos: self.pos
			size: self.size
			source: 'appimages/mushrooms.jpg'
	
	FloatLayout:
		pos: 0, 0
		size: root.width, root.height
		
		Label:
			text: "Check if your mushroom is poisonous!"
			font_size: 45
			outline_color: 0, 0, 0
			outline_width: 3
			text_size: root.width, None
			size: self.texture_size
			halign: 'center'
			pos_hint: {'x': 0, 'y': .2}

		Button:
			text: "Start"
			pos_hint: {'x': .1, 'y': .1}
			size_hint: .8, .3
			on_release:
				app.root.current = "capcolorwindow"
				root.manager.transition.direction = "left"

<CapColorWindow>:
	id : capcolorwindow
	name: "capcolorwindow"
	
	Label:
		text: "Select the cap color of your mushroom."
		pos_hint: {'x': 0, 'y': 0.45}
		text_size: root.width, None
		size: self.texture_size
		halign: 'center'
		
	Label:
		id: result0
		text: ''
		pos_hint: {'x': 0, 'y': .25}
		
	Button:
		text: "brown"
		pos_hint: {'x': .1, 'y': .8}
		size_hint: .2, .1
		background_color: (0.588,0.294,0,0.7)
		background_normal: ''
		on_release: root.ccselection('brown', 'n')
		
	Button:
		text: "buff"
		color: (0,0,0,1)
		pos_hint: {'x': .4, 'y': .8}
		size_hint: .2, .1
		background_color: (0.941,0.863,0.51,0.8)
		background_normal: ''
		on_release: root.ccselection('buff', 'b')
		
	Button:
		text: "cinnamon"
		pos_hint: {'x': .7, 'y': .8}
		size_hint: .2, .1
		background_color: (0.824,0.412,0.118,0.7)
		background_normal: ''
		on_release: root.ccselection('cinnamon', 'c')
		
	Button:
		text: "grey"
		color: (0,0,0,1)
		pos_hint: {'x': .1, 'y': .65}
		size_hint: .2, .1
		background_color: (0.502,0.502,0.502,1)
		background_normal: ''
		on_release: root.ccselection('grey', 'g')
		
	Button:
		text: "green"
		pos_hint: {'x': .4, 'y': .65}
		size_hint: .2, .1
		background_color: (0,1,0,0.5)
		background_normal: ''
		on_release: root.ccselection('green', 'r')
		
	Button:
		text: "pink"
		pos_hint: {'x': .7, 'y': .65}
		size_hint: .2, .1
		background_color: (0.969,0.561,0.655,0.8)
		background_normal: ''
		on_release: root.ccselection('pink', 'p')
		
	Button:
		text: "purple"
		pos_hint: {'x': .1, 'y': .5}
		size_hint: .2, .1
		background_color: (0.502,0,0.502,0.5)
		background_normal: ''
		on_release: root.ccselection('purple', 'u')
		
	Button:
		text: "red"
		pos_hint: {'x': .4, 'y': .5}
		size_hint: .2, .1
		background_color: (1,0,0,0.7)
		background_normal: ''
		on_release: root.ccselection('red', 'e')
		
	Button:
		text: "white"
		color: (0,0,0,1)
		pos_hint: {'x': .7, 'y': .5}
		size_hint: .2, .1
		background_color: (1,1,1,0.9)
		background_normal: ''
		on_release: root.ccselection('white', 'w')
		
	Button:
		text: "yellow"
		color: (0,0,0,1)
		pos_hint: {'x': .4, 'y': .35}
		size_hint: .2, .1
		background_color: (1,0.788,0.133,0.8)
		background_normal: ''
		on_release: root.ccselection('yellow', 'y')
	
	Button:
		text: "Back"
		pos_hint: {'x': .1, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "startwindow"
			root.manager.transition.direction = "right"
			
	Button:
		text: "Next"
		pos_hint: {'x': .7, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "bruiseswindow"
			root.manager.transition.direction = "left"

			
<BruisesWindow>:
	id: bruiseswindow
	name: "bruiseswindow"
	
	Label:
		text: "Does your mushroom bruise?"
		pos_hint: {'x': 0, 'y': 0.45}
		text_size: root.width, None
		size: self.texture_size
		halign: 'center'
		
	Label:
		text:
			"To check if your mushroom bruises, nick the top and bottom of your mushroom cap and if the colour changes where you nicked it then your mushroom has bruised."
		pos_hint: {'x': 0, 'y': 0.35}
		text_size: root.width, None
		size: self.texture_size
		halign: 'center'
		
	Label:
		id: result1
		text: ''
		pos_hint: {'x': 0, 'y': .25}
		
	Button:
		text: "Yes"
		pos_hint: {'x': .1, 'y': .6}
		size_hint: .2, .1
		background_color: (0.165,0.322,0.745,0.7)
		background_normal: ''
		on_release: root.bselection('yes', 't')
		
	Button:
		text: "No"
		color: (0,0,0,1)
		pos_hint: {'x': .7, 'y': .6}
		size_hint: .2, .1
		background_color: (1,1,1,0.9)
		background_normal: ''
		on_release: root.bselection('no', 'f')
	
	Button:
		text: "Back"
		pos_hint: {'x': .1, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "capcolorwindow"
			root.manager.transition.direction = "right"
	
	Button:
		text: "Next"
		pos_hint: {'x': .7, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "gillattachmentwindow"
			root.manager.transition.direction = "left"
			
<GillAttachmentWindow>:
	id: gillattachmentwindow
	name: "gillattachmentwindow"
	
	Label:
		text: "Select the gill attachment of your mushroom."
		pos_hint: {'x': 0, 'y': 0.45}
		text_size: root.width, None
		size: self.texture_size
		halign: 'center'
		
	Label:
		id: result2
		text: ''
		pos_hint: {'x': 0, 'y': .25}
		
	Button:
		pos_hint: {'x': .2, 'y': .6}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.gaselection('attached', 'a')
		Image:
			source: 'appimages/attached.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
		
	Button:
		pos_hint: {'x': .5, 'y': .6}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.gaselection('descending', 'd')
		Image:
			source: 'appimages/descending.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
			
	Button:
		pos_hint: {'x': .2, 'y': .3}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.gaselection('free', 'f')
		Image:
			source: 'appimages/free.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
			
	Button:
		pos_hint: {'x': .5, 'y': .3}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.gaselection('notched', 'n')
		Image:
			source: 'appimages/notched.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
	
	Button:
		text: "Back"
		pos_hint: {'x': .1, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "bruiseswindow"
			root.manager.transition.direction = "right"
	
	Button:
		text: "Next"
		pos_hint: {'x': .7, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "stalkrootwindow"
			root.manager.transition.direction = "left"
			
<StalkRootWindow>:
	id: stalkrootwindow
	name: "stalkrootwindow"
	
	Label:
		text: "Select the root type of your mushroom."
		pos_hint: {'x': 0, 'y': 0.45}
		text_size: root.width, None
		size: self.texture_size
		halign: 'center'
		
	Label:
		id: result2
		text: ''
		pos_hint: {'x': 0, 'y': .25}
		
	Button:
		pos_hint: {'x': .05, 'y': .6}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.srselection('bulbous', 'b')
		Image:
			source: 'appimages/bulbous.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
		
	Button:
		pos_hint: {'x': .35, 'y': .6}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.srselection('club', 'c')
		Image:
			source: 'appimages/club.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
			
	Button:
		pos_hint: {'x': .65, 'y': .6}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.srselection('cup', 'u')
		Image:
			source: 'appimages/cup.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
			
	Button:
		pos_hint: {'x': .05, 'y': .3}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.srselection('equal', 'e')
		Image:
			source: 'appimages/equal.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
	
	Button:
		pos_hint: {'x': .35, 'y': .3}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.srselection('rhizomorphs', 'z')
		Image:
			source: 'appimages/rhizomorphs.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
			
	Button:
		pos_hint: {'x': .65, 'y': .3}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		on_release: root.srselection('rooted', 'r')
		Image:
			source: 'appimages/rooted.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			allow_stretch: True
	
	Button:
		text: "Unknown"
		pos_hint: {'x': .4, 'y': .2}
		size_hint: .2, .1
		on_release: root.srselection('missing', '?')
	
	Button:
		text: "Back"
		pos_hint: {'x': .1, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "gillattachmentwindow"
			root.manager.transition.direction = "right"
	
	Button:
		text: "Next"
		pos_hint: {'x': .7, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "habitatwindow"
			root.manager.transition.direction = "left"
			
<HabitatWindow>:
	id : habitatwindow
	name: "habitatwindow"
	
	Label:
		text: "Select the habitat of your mushroom."
		pos_hint: {'x': 0, 'y': 0.45}
		text_size: root.width, None
		size: self.texture_size
		halign: 'center'
		
	Label:
		id: result0
		text: ''
		pos_hint: {'x': 0, 'y': .25}
		
	Button:
		pos_hint: {'x': .05, 'y': .6}
		size_hint: .3, .3
		background_color: (0.553,0.714,0,0.8)
		background_normal: ''
		on_release: root.hselection('grasses', 'g')
		Image:
			source: 'appimages/grasses.png'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			size: self.parent.size
			allow_stretch: True
		
	Button:
		pos_hint: {'x': .35, 'y': .6}
		size_hint: .3, .3
		background_color: (0.941,0.863,0.51,0.8)
		background_normal: ''
		on_release: root.hselection('leaves', 'l')
		Image:
			source: 'appimages/leaves.jpg'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			size: self.parent.size
			allow_stretch: True
		
	Button:
		pos_hint: {'x': .65, 'y': .6}
		size_hint: .3, .3
		background_color: (0.553,0.714,0,0.8)
		background_normal: ''
		on_release: root.hselection('meadows', 'm')
		Image:
			source: 'appimages/meadows.jpg'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			size: self.parent.size
			allow_stretch: True
		
	Button:
		pos_hint: {'x': .05, 'y': .3}
		size_hint: .3, .3
		background_color: (0.553,0.714,0,0.3)
		background_normal: ''
		on_release: root.hselection('paths', 'p')
		Image:
			source: 'appimages/pathes.jpg'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			size: self.parent.size
			allow_stretch: True
		
	Button:
		pos_hint: {'x': .35, 'y': .3}
		size_hint: .3, .3
		background_color: (1,1,1,0.3)
		background_normal: ''
		on_release: root.hselection('urban', 'u')
		Image:
			source: 'appimages/urban.jpg'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			size: self.parent.size
			allow_stretch: True
		
	Button:
		pos_hint: {'x': .65, 'y': .3}
		size_hint: .3, .3
		background_color: (0.969,0.561,0.655,0.8)
		background_normal: ''
		on_release: root.hselection('waste', 'w')
		Image:
			source: 'appimages/waste.jpg'
			center_x: self.parent.center_x
			center_y: self.parent.center_y
			size: self.parent.size
			allow_stretch: True
		
		
	Button:
		pos_hint: {'x': .35, 'y': 0}
		size_hint: .3, .3
		background_color: (0.165,0.376,0.231,0.9)
		background_normal: ''
		on_release: root.hselection('woods', 'd')
		Image:
			source: 'appimages/woods.jpg'
			pos: self.parent.pos
			size: self.parent.size
			allow_stretch: True
		
	Button:
		text: "Back"
		pos_hint: {'x': .1, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "stalkrootwindow"
			root.manager.transition.direction = "right"
			
	Button:
		text: "Next"
		pos_hint: {'x': .7, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "summarywindow"
			root.manager.transition.direction = "left"
	
			
<SummaryWindow>:
	id: summarywindow
	name: "summarywindow"
	
	Label:
		text: "Summary:"
		pos_hint: {'x': 0, 'y': .29}
		
	Label:
		text: "Cap Colour: " + root.manager.my_cap_color
		pos_hint: {'x': 0, 'y': .25}
		
	Label:
		text: "Bruises: " + root.manager.my_bruises
		pos_hint: {'x': 0, 'y': .21}
		
	Label:
		text: "Gill Attachment: " + root.manager.my_gill_attachment
		pos_hint: {'x': 0, 'y': .17}
		
	Label:
		text: "Stalk Root: " + root.manager.my_stalk_root
		pos_hint: {'x': 0, 'y': .13}
		
	Label:
		text: "Habitat: " + root.manager.my_habitat
		pos_hint: {'x': 0, 'y': .09}
		
	Label:
		id: prediction
		text: ''
		pos_hint: {'x': 0, 'y': .01}
	
	Button:
		text: "Back"
		pos_hint: {'x': .1, 'y': .1}
		size_hint: .2, .1
		on_release:
			app.root.current = "habitatwindow"
			root.manager.transition.direction = "right"
			root.clearpredict()
	
	Button:
		text: "Predict"
		pos_hint: {'x': .4, 'y': .2}
		size_hint: .2, .1
		on_release: root.predictmush()
